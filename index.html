<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Family Cheese - –ù–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —Å–∏—Ä–∏</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
/* === –ó–ú–Ü–ù–ù–Ü –¢–ê –¢–ï–ú–ò === */
:root {
    --primary-color: #D4935A; --primary-hover: #C17A3A;
    --secondary-color: #E8B17A; --accent-color: #F2C98A;
    --error-color: #E74C3C; --success-color: #27AE60;
    --bg-primary: #FFF9F4; --bg-secondary: #F8F3ED;
    --bg-tertiary: #F0E6D6; --bg-card: #FFFFFF;
    --text-primary: #8B4513; --text-secondary: #A0522D;
    --text-muted: #CD853F; --border-color: #E6D5C7;
    --shadow-soft: 0 4px 20px rgba(212, 147, 90, 0.15);
    --shadow-medium: 0 8px 30px rgba(212, 147, 90, 0.2);
    --shadow-strong: 0 15px 40px rgba(212, 147, 90, 0.25);
    --gradient-primary: linear-gradient(135deg, #F2C98A 0%, #D4935A 50%, #C17A3A 100%);
    --gradient-secondary: radial-gradient(circle at center, #F5DEB3 0%, #E8B17A 100%);
    --transition-smooth: 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --transition-bounce: 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --border-radius-soft: 12px; --border-radius-medium: 16px; --border-radius-large: 20px;
}
[data-theme="dark"] {
    --bg-primary: #2C1810; --bg-secondary: #3D2318; --bg-tertiary: #4A2A1C;
    --bg-card: #3D2318; --text-primary: #F5DEB3; --text-secondary: #E8B17A;
    --text-muted: #D4935A; --border-color: #5D3A24;
}

/* === –ë–ê–ó–û–í–Ü –°–¢–ò–õ–Ü === */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; font-size: clamp(14px, 1.5vw, 16px); }
body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-primary); color: var(--text-primary);
    line-height: 1.6; overflow-x: hidden;
    transition: background-color var(--transition-smooth), color var(--transition-smooth);
}
.hidden { display: none !important; }

/* === HEADER === */
.header {
    position: sticky; top: 0; z-index: 1000;
    background: rgba(255, 249, 244, 0.9); backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--border-color); padding: 0.75rem 0;
}
.header-content { display: flex; align-items: center; gap: 0.75rem; padding: 0 1rem; max-width: 1200px; margin: 0 auto; }
.search-container { flex-grow: 1; position: relative; }
.search-input {
    width: 100%; padding: 0.8rem 1rem; border: 2px solid var(--border-color);
    border-radius: var(--border-radius-large); font-size: 1rem;
    background: var(--bg-card); color: var(--text-primary);
    transition: all var(--transition-smooth);
}
.search-input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(212, 147, 90, 0.2); }
.search-icon { display: none; }
.header-actions { display: flex; align-items: center; gap: 0.75rem; }
.cart-badge {
    width: 48px; height: 48px; border-radius: 50%; border: none;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: transform 0.3s; font-size: 1.2rem; position: relative;
    background: var(--gradient-primary); color: white; box-shadow: var(--shadow-soft);
}
.cart-badge:hover { transform: scale(1.1); }
.cart-count {
    position: absolute; top: -5px; right: -5px; background: var(--error-color);
    color: white; border-radius: 50%; width: 24px; height: 24px;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.75rem; font-weight: 700;
}

/* === PROMO === */
.promo-section { margin: 1rem 0; padding: 0 1rem; }
.promo-box {
    background: var(--gradient-primary); color: white; padding: 1rem 1.5rem;
    border-radius: var(--border-radius-medium); font-size: 1rem; font-weight: 600; text-align: center;
    box-shadow: var(--shadow-soft); animation: pulse 2s infinite; position: relative;
}
.promo-box strong { font-size: 1.2rem; }
.promo-close { position: absolute; top: 8px; right: 12px; background: none; border: none; color: white; font-size: 1.4rem; cursor: pointer; }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(212, 147, 90, 0.6); } 70% { box-shadow: 0 0 0 15px rgba(212, 147, 90, 0); } 100% { box-shadow: 0 0 0 0 rgba(212, 147, 90, 0); } }

/* === LAYOUT & LOADING === */
.container { max-width: 1200px; margin: 0 auto; padding: 0 1rem 2rem; }
.loading { display: flex; justify-content: center; align-items: center; height: 200px; }
.spinner { width: 40px; height: 40px; border: 4px solid var(--border-color); border-top-color: var(--primary-color); border-radius: 50%; animation: spin 1.5s ease-in-out infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* === PRODUCT LIST & CARD === */
.product-list { display: grid; grid-template-columns: 1fr; gap: 1.5rem; margin-top: 1.5rem; }
.product-card {
    background: var(--bg-card); border-radius: var(--border-radius-large);
    overflow: hidden; box-shadow: var(--shadow-soft);
    transition: transform var(--transition-smooth), box-shadow var(--transition-smooth);
    border: 1px solid var(--border-color);
}
.product-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-medium); }
.gallery-image { width: 100%; height: auto;  object-fit: cover; aspect-ratio: 4 / 3; }
.product-info { padding: 1rem; }
.title { font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem; }
.weight { color: var(--text-muted); font-size: 0.9rem; margin-bottom: 0.75rem; }
.price-container { display: flex; align-items: baseline; gap: 0.75rem; margin-bottom: 1rem; }
.current-price { font-size: 1.5rem; font-weight: 700; color: var(--primary-color); }
.original-price { font-size: 1rem; color: var(--text-muted); text-decoration: line-through; }
.card-footer { display: flex; justify-content: space-between; align-items: center; gap: 1rem; }
.add-to-cart-btn {
    background: var(--gradient-primary); color: white; border: none; width: 48px; height: 48px;
    border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem; transition: transform 0.3s; box-shadow: var(--shadow-soft);
}
.add-to-cart-btn:hover { transform: scale(1.15); }
.quantity-control { display: none; align-items: center; gap: 0.75rem; background: var(--bg-secondary); border-radius: var(--border-radius-medium); padding: 0.5rem; }
.quantity-btn { width: 32px; height: 32px; border-radius: 50%; border: none; background: var(--primary-color); color: white; cursor: pointer; font-weight: 700; transition: transform 0.3s; }
.quantity-btn:hover { transform: scale(1.1); }
.quantity { font-weight: 700; min-width: 24px; text-align: center; font-size: 1rem; }
.details-btn { background: none; border: none; color: var(--primary-color); cursor: pointer; font-size: 0.9rem; text-decoration: none; }

/* === MODAL (–í–Ü–î–ù–û–í–õ–ï–ù–Ü –°–¢–ò–õ–Ü) === */
.modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(139, 69, 19, 0.7);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-smooth);
    padding: 2rem;
}
.modal-backdrop.visible {
    opacity: 1;
    visibility: visible;
}
.modal-content {
    background: var(--bg-card);
    border-radius: var(--border-radius-large);
    max-width: 600px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: var(--shadow-strong);
    transform: scale(0.8) translateY(50px);
    transition: all var(--transition-bounce);
    border: 2px solid var(--border-color);
}
.modal-backdrop.visible .modal-content {
    transform: scale(1) translateY(0);
}
.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 2rem;
    border-bottom: 2px solid var(--border-color);
    background: var(--gradient-secondary);
}
.modal-title {
    font-family: 'Comfortaa', sans-serif;
    font-size: 1.6rem;
    font-weight: 600;
    color: var(--text-primary);
}
.modal-close {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: var(--bg-tertiary);
    color: var(--text-secondary);
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.6rem;
    transition: all var(--transition-bounce);
    box-shadow: var(--shadow-soft);
}
.modal-close:hover {
    background: var(--error-color);
    color: white;
    transform: scale(1.15) rotate(90deg);
}
.modal-body {
    padding: 2rem;
    line-height: 1.7;
    color: var(--text-secondary);
    font-size: 1.05rem;
}

/* === ORDER FORM === */
.order-form {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: var(--bg-card);
    border-top-left-radius: var(--border-radius-large);
    border-top-right-radius: var(--border-radius-large);
    max-height: 90vh; overflow-y: auto; z-index: 1500;
    transform: translateY(100%);
    transition: transform var(--transition-smooth);
    box-shadow: 0 -10px 40px rgba(212, 147, 90, 0.3);
    border-top: 3px solid var(--primary-color);
}
.order-form.visible { transform: translateY(0); }
.order-form-content { padding: 1.5rem; position: relative; }
.order-form-close-btn {
    position: absolute; top: 1rem; right: 1rem;
    width: 40px; height: 40px; border-radius: 50%; border: none;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem; background: var(--bg-tertiary); color: var(--text-primary);
    transition: all var(--transition-bounce); z-index: 10;
}
.order-form-close-btn:hover { background: var(--error-color); color: white; transform: rotate(90deg); }
.order-form h2 { font-size: 1.4rem; font-weight: 600; margin-bottom: 1rem; }
.change-order-btn {
    background: var(--bg-tertiary); color: var(--text-secondary); border: none;
    padding: 0.6rem 1rem; border-radius: var(--border-radius-medium);
    cursor: pointer; margin-bottom: 1rem; transition: all var(--transition-smooth); font-weight: 600;
}
.change-order-btn:hover { background: var(--primary-color); color: white; }
.summary-item { display: flex; align-items: center; gap: 1rem; padding: 0.8rem; background: var(--bg-secondary); border-radius: var(--border-radius-medium); margin-bottom: 0.8rem; }
.summary-item-img { width: 60px; height: 60px; border-radius: var(--border-radius-medium); object-fit: cover; }
.summary-item-details { flex: 1; }
.summary-item-name { font-weight: 600; margin-bottom: 0.25rem; font-size: 0.95rem; }
.summary-item-quantity { color: var(--text-muted); font-size: 0.85rem; }
.summary-item-price { font-weight: 700; color: var(--primary-color); }
.summary-totals { background: var(--bg-secondary); border-radius: var(--border-radius-large); padding: 1rem; margin: 1.5rem 0; }
.summary-totals>div { display: flex; justify-content: space-between; margin-bottom: 0.5rem; }
.total-price { font-weight: 700; font-size: 1.2rem; color: var(--primary-color); border-top: 1px solid var(--border-color); padding-top: 0.8rem; margin-top: 0.8rem; }
.total-discount { color: var(--success-color); font-weight: 600; }
.delivery-options { margin-bottom: 1.5rem; }
.delivery-option { display: flex; align-items: center; padding: 1rem; border: 2px solid var(--border-color); border-radius: var(--border-radius-medium); margin-bottom: 0.8rem; cursor: pointer; }
.delivery-option:hover { border-color: var(--primary-color); }
.delivery-option input[type="radio"] { margin-right: 1rem; transform: scale(1.2); accent-color: var(--primary-color); }
.delivery-option label { flex: 1; cursor: pointer; }
.delivery-option .price { font-weight: 700; color: var(--primary-color); }
.address-field { margin-bottom: 1rem; opacity: 0; max-height: 0; overflow: hidden; transition: all var(--transition-smooth); }
.address-field.visible { opacity: 1; max-height: 100px; }
.form-group { margin-bottom: 1rem; }
.form-group input, .address-field input {
    width: 100%; padding: 1rem; border: 2px solid var(--border-color);
    border-radius: var(--border-radius-medium); font-size: 1rem;
    background: var(--bg-primary); color: var(--text-primary); transition: all var(--transition-smooth);
}
.form-group input:focus, .address-field input:focus { outline: none; border-color: var(--primary-color); }
.error { color: var(--error-color); font-size: 0.9rem; margin-bottom: 1rem; text-align: center; }
.order-notice { background: rgba(212, 147, 90, 0.1); border-radius: var(--border-radius-medium); padding: 1rem; margin-bottom: 1rem; font-size: 0.9rem; display: flex; align-items: center; gap: 0.8rem; }
.order-notice i { color: var(--primary-color); }

/* === INFO SECTIONS === */
.info-section { padding: 2rem 0; margin-top: 2rem; }
.section-title { text-align: center; font-size: 1.8rem; font-weight: 700; margin-bottom: 2rem; color: var(--text-primary); }
.about-content { display: grid; grid-template-columns: 1fr; gap: 2rem; text-align: center; }
.about-image img { width: 100%; border-radius: var(--border-radius-large); box-shadow: var(--shadow-medium); }
.about-text h3 { font-size: 1.5rem; margin-bottom: 1rem; }
.about-text p { color: var(--text-secondary); line-height: 1.7; font-size: 1rem; }
.reviews-grid { display: grid; grid-template-columns: 1fr; gap: 1.5rem; }
.review-card { background: var(--bg-card); padding: 1.5rem; border-radius: var(--border-radius-large); box-shadow: var(--shadow-soft); border: 1px solid var(--border-color); }
.review-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; }
.review-header .fa-user-circle { font-size: 3rem; color: var(--primary-color); }
.reviewer-name { font-weight: 600; font-size: 1.1rem; }
.review-stars { color: #F39C12; font-size: 1rem; }
.review-text { color: var(--text-secondary); font-style: italic; font-size: 1rem; }

/* === –ê–î–ê–ü–¢–ò–í–ù–Ü–°–¢–¨ (TABLET & DESKTOP) === */
@media (min-width: 600px) {
    .product-list { grid-template-columns: repeat(2, 1fr); }
    .reviews-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (min-width: 768px) {
    :root { font-size: 16px; }
    .header { padding: 1rem 0; }
    .header-content { gap: 1.5rem; padding: 0 1.5rem; }
    .search-input { padding: 1rem 1rem 1rem 3.5rem; }
    .search-icon { display: block; position: absolute; left: 1.2rem; top: 50%; transform: translateY(-50%); color: var(--primary-color); font-size: 1.2rem; }
    .container { padding: 0 1.5rem 3rem; }
    .product-list { margin-top: 2rem; }
    .product-info { padding: 1.5rem; }
    .section-title { font-size: 2.2rem; }
    .about-content { grid-template-columns: 1fr 1.5fr; text-align: left; }
}
@media (min-width: 1024px) {
    .product-list { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 2rem; }
    .reviews-grid { grid-template-columns: repeat(3, 1fr); }
}
</style>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body>
  <header class="header">
    <div class="header-content">
        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-input" placeholder="–ü–æ—à—É–∫ —Å–∏—Ä—ñ–≤..." id="search-input">
        </div>
        <div class="header-actions">
            <button class="cart-badge" id="cart-badge" title="–ö–æ—à–∏–∫">
                <span class="cart-count hidden" id="cart-count">0</span>
                <i class="fas fa-shopping-cart"></i>
            </button>
        </div>
    </div>
</header>

<section class="promo-section" id="promo-section">
  <div class="container">
    <div class="promo-box">
      üéâ –õ–∏—à–µ –∑–∞—Ä–∞–∑! <strong>-15%</strong> –Ω–∞ –≤—Å—ñ —Å–∏—Ä–∏ üßÄ  
      <span class="promo-sub">–í—Å—Ç–∏–≥–Ω—ñ—Ç—å –∑–∞–º–æ–≤–∏—Ç–∏ –¥–æ –∫—ñ–Ω—Ü—è —Ç–∏–∂–Ω—è!</span>
      <button class="promo-close" id="promo-close">√ó</button>
    </div>
  </div>
</section>

<div class="container">
    <div class="loading" id="loading">
        <div class="spinner"></div>
        –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É...
    </div>
    <div class="product-list" id="product-list"></div>
</div>

<section id="reviews" class="info-section">
    <div class="container">
        <h2 class="section-title">–í—ñ–¥–≥—É–∫–∏ –Ω–∞—à–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤</h2>
        <div class="reviews-grid">
            <div class="review-card">
                <div class="review-header">
                    <i class="fas fa-user-circle"></i>
                    <div>
                        <p class="reviewer-name">–û–ª–µ–Ω–∞ –ü.</p>
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                    </div>
                </div>
                <p class="review-text">"–ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ —Å–º–∞—á–Ω–∏–π —Å–∏—Ä! –ì–∞—É–¥–∞ –ø—Ä–æ—Å—Ç–æ —Ç–∞–Ω–µ –≤ —Ä–æ—Ç—ñ. –í—ñ–¥—á—É–≤–∞—î—Ç—å—Å—è, —â–æ –ø—Ä–æ–¥—É–∫—Ç –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π —ñ –∑—Ä–æ–±–ª–µ–Ω–∏–π –∑ –¥—É—à–µ—é. –û–±–æ–≤'—è–∑–∫–æ–≤–æ –∑–∞–º–æ–≤–ª—é —â–µ!"</p>
            </div>
            <div class="review-card">
                <div class="review-header">
                    <i class="fas fa-user-circle"></i>
                    <div>
                        <p class="reviewer-name">–ê–Ω–¥—Ä—ñ–π</p>
                        <div class="review-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div>
                    </div>
                </div>
                <p class="review-text">"–ó–∞–º–æ–≤–ª—è–≤ –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ –û–±—É—Ö–æ–≤—É, –≤—Å–µ –ø—Ä–∏–≤–µ–∑–ª–∏ —à–≤–∏–¥–∫–æ. –°–∏—Ä —Å–≤—ñ–∂–∏–π, –∞—Ä–æ–º–∞—Ç–Ω–∏–π. –¢—Ä–æ—Ö–∏ –¥–æ—Ä–æ–∂—á–µ, –Ω—ñ–∂ –≤ –º–∞–≥–∞–∑–∏–Ω—ñ, –∞–ª–µ —è–∫—ñ—Å—Ç—å —Ç–æ–≥–æ –≤–∞—Ä—Ç–∞."</p>
            </div>
        </div>
    </div>
</section>

<section id="about-us" class="info-section">
    <div class="container">
        <h2 class="section-title">–ü—Ä–æ –ù–∞—Å</h2>
        <div class="about-content">
            <div class="about-image">
                <img src="data/pro_nas.png" alt="–ù–∞—à–∞ —Å–∏—Ä–æ–≤–∞—Ä–Ω—è">
            </div>
            <div class="about-text">
                <h3>–°—ñ–º–µ–π–Ω–∞ —Å–ø—Ä–∞–≤–∞ –∑ –ª—é–±–æ–≤'—é –¥–æ —Å–∏—Ä—É</h3>
                <p><strong>Family Cheese</strong> ‚Äî —Ü–µ –Ω–µ–≤–µ–ª–∏–∫–∞ —Å—ñ–º–µ–π–Ω–∞ —Å–∏—Ä–æ–≤–∞—Ä–Ω—è, –¥–µ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —Å–∏—Ä–∏ –∑–∞ —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–º–∏ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏. –ö–æ–∂–Ω–∞ –≥–æ–ª–æ–≤–∫–∞ —Å–∏—Ä—É ‚Äî —Ü–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä—É—á–Ω–æ—ó –ø—Ä–∞—Ü—ñ, —è–∫—ñ—Å–Ω–æ–≥–æ –º–æ–ª–æ–∫–∞ —Ç–∞ –Ω–∞—à–æ—ó –ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç—ñ –¥–æ —Å–∏—Ä–æ–≤–∞—Ä—ñ–Ω–Ω—è.</p>
            </div>
        </div>
    </div>
</section>

<div class="modal-backdrop" id="description-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 class="modal-title" id="modal-title"></h2>
            <button class="modal-close" id="modal-close-btn"><i class="fas fa-times"></i></button>
        </div>
        <div class="modal-body" id="modal-body"></div>
    </div>
</div>

<div id="order-form" class="order-form">
    <div class="order-form-content">
        <button class="order-form-close-btn" id="order-form-close-btn" title="–ó–∞–∫—Ä–∏—Ç–∏"><i class="fas fa-times"></i></button>
        <h2>–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h2>
        <div id="order-summary"></div>
        <button class="change-order-btn"><i class="fas fa-edit"></i> –ó–º—ñ–Ω–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
        <div class="delivery-options">
            <h2>–°–ø–æ—Å—ñ–± –¥–æ—Å—Ç–∞–≤–∫–∏</h2>
            <div class="delivery-option">
                <input type="radio" id="obukhiv-delivery" name="delivery" value="50" data-title="–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –º. –û–±—É—Ö—ñ–≤" checked>
                <label for="obukhiv-delivery"><b>–î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –º. –û–±—É—Ö—ñ–≤</b></label>
                <span class="price">50 –≥—Ä–Ω</span>
            </div>
            <div class="delivery-option">
                <input type="radio" id="obukhiv-nova-poshta" name="delivery" value="50" data-title="–î–æ—Å—Ç–∞–≤–∫–∞ –ù–æ–≤–∞ –ø–æ—à—Ç–∞ –º. –û–±—É—Ö—ñ–≤">
                <label for="obukhiv-nova-poshta"><b>–î–æ—Å—Ç–∞–≤–∫–∞ —É –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ¬´–ù–æ–≤–∞ –ø–æ—à—Ç–∞¬ª</b><br>–∞–±–æ –ø–æ—à—Ç–æ–º–∞—Ç —É –º. –û–±—É—Ö—ñ–≤</label>
                <span class="price">50 –≥—Ä–Ω</span>
            </div>
            <div class="delivery-option">
                <input type="radio" id="nova-poshta" name="delivery" value="0" data-title="–ù–æ–≤–∞ –ü–æ—à—Ç–∞">
                <label for="nova-poshta"><b>¬´–ù–æ–≤–∞ –ø–æ—à—Ç–∞¬ª</b><br>–ó–∞ —Ç–∞—Ä–∏—Ñ–∞–º–∏ –ø–µ—Ä–µ–≤—ñ–∑–Ω–∏–∫–∞</label>
            </div>
        </div>
        <div id="address-field-container" class="address-field visible">
            <input type="text" id="address-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à—É –∞–¥—Ä–µ—Å—É –∞–±–æ ‚Ññ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è">
        </div>
        <h2>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ</h2>
        <p class="error" id="form-error"></p>
        <div class="form-group">
            <input type="text" id="user-name" placeholder="–Ü–º'—è —Ç–∞ –ü—Ä—ñ–∑–≤–∏—â–µ">
        </div>
        <div class="form-group">
            <input type="tel" id="user-phone" placeholder="0 XX XXX XX XX">
        </div>
        <div class="order-notice"><i class="fas fa-info-circle"></i> –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—É–º–∞ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—è –ø—ñ—Å–ª—è –∑–≤–∞–∂—É–≤–∞–Ω–Ω—è.</div>
        <div class="order-notice"><i class="fas fa-credit-card"></i> –û–ø–ª–∞—Ç–∞ –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.</div>
    </div>
</div>

<script type="module">
    const MOCK_PRODUCTS_DATA = [
        { "id": "–ì–∞—É–¥–∞50", "name": "–°–∏—Ä —Ç–≤–µ—Ä–¥–∏–π ¬´–ì–∞—É–¥–∞¬ª 50%", "price": 163.2, "original_price": 192, "is_hit": false, "description": "–¢–≤–µ—Ä–¥–∏–π —Å–∏—Ä –∑ –º'—è–∫–∏–º –∫—Ä–µ–º–æ–≤–∏–º —Å–º–∞–∫–æ–º, –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π –∑—ñ —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ –∫–æ—Ä–æ–≤‚Äô—è—á–æ–≥–æ –º–æ–ª–æ–∫–∞ —Ç–∞ –∑–∞–∫–≤–∞—Å–∫–∏. –°–∏—Ä –º—ñ—Å—Ç–∏—Ç—å –≤—ñ—Ç–∞–º—ñ–Ω–∏ A, B, C, D,E, K, –Ω–∞—Å–∏—á—É—î –æ—Ä–≥–∞–Ω—ñ–∑–º —Å–µ–ª–µ–Ω–æ–º, –∑–∞–ª—ñ–∑–æ–º, —Ü–∏–Ω–∫–æ–º, –π–æ–¥–æ–º, –∫–∞–ª—å—Ü—ñ—î–º —Ç–∞ –∫–∞–ª—ñ—î–º. –û—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ –≤–∂–∏–≤–∞—Ç–∏ —Ü–µ–π —Å–∏—Ä –Ω–∞ —Å–Ω—ñ–¥–∞–Ω–æ–∫!", "weight": "–≤–∞–∫–∫—É–º, ~400 –≥", "images": ["data/gauda.jpg"] },
        { "id": "–†—ñ–∫–æ—Ç—Ç–∞", "name": "–°–∏—Ä –º'—è–∫–∏–π ¬´–†—ñ–∫–æ—Ç—Ç–∞¬ª", "price": 89.25, "original_price": 105, "is_hit": false, "description": "–°–æ–ª–æ–¥–∫—É–≤–∞—Ç–∏–π –Ω–∞ —Å–º–∞–∫ –∑–∞ —Ä–∞—Ö—É–Ω–æ–∫ –ª–∞–∫—Ç–æ–∑–∏, —â–æ –≤—Ö–æ–¥–∏—Ç—å –¥–æ –π–æ–≥–æ —Å–∫–ª–∞–¥—É. –¶–µ - –∫–æ—Ä–æ–ª—å —Å–µ—Ä–µ–¥ –≤—Å—ñ—Ö –±—ñ–ª–∫–æ–≤–∏—Ö –º–æ–ª–æ—á–Ω–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤. –†—ñ–∫–æ—Ç—Ç–∞, –≤–∞–≥–æ—é 400 –≥—Ä–∞–º—ñ–≤ –º—ñ—Å—Ç–∏—Ç—å –¥–æ 96 –≥—Ä–∞–º—ñ–≤ –±—ñ–ª–∫–∞. –ú–∞–ª–æ –∂–∏—Ä—É —ñ –±–∞–≥–∞—Ç–æ –±—ñ–ª–∫–∞ - —ñ–¥–µ–∞–ª—å–Ω–∏–π –ø—Ä–æ–¥—É–∫—Ç –¥–ª—è –ª—é–¥–µ–π, —è–∫—ñ –≤–∏—Ä—ñ—à–∏–ª–∏ ¬´—Å—ñ—Å—Ç–∏¬ª –Ω–∞ –¥—ñ—î—Ç—É –∑ –º–µ—Ç–æ—é —Å—Ö—É–¥–Ω–µ–Ω–Ω—è.", "weight": "–≤–∞–∫–∫—É–º, ~500 –≥", "images": ["data/ricotta.jpeg"] },
        { "id": "–ú–∞—Å–ª–æ", "name": "–ú–∞—Å–ª–æ ¬´–î–æ–º–∞—à–Ω—î¬ª", "price": 183.6, "original_price": 216, "is_hit": false, "description": "–í–µ—Ä—à–∫–∏ –∑–±–∏—Ç—ñ –≤ –º–∞—Å–ª–æ–±—ñ–π—Ü—ñ! –í –ø–µ—Ä—à—É —á–µ—Ä–≥—É –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≥–ª–∞–¥–∫—É —à–∫—ñ—Ä—É, –≥–∞—Ä–Ω–µ –≤–æ–ª–æ—Å—Å—è —ñ –º—ñ—Ü–Ω—ñ –Ω—ñ–≥—Ç—ñ, –∞ –≤—Å–µ —Ç–æ–º—É, —â–æ –≤ –Ω—å–æ–º—É –º—ñ—Å—Ç—è—Ç—å—Å—è –∂–∏—Ä–æ—Ä–æ–∑—á–∏–Ω–Ω—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ –ê, D, E, K.", "weight": "–ø–∞–∫, ~400 –≥", "images": ["data/maslo.jpeg"] },
        { "id": "–ú–æ—Ü–∞—Ä–µ–ª–ª–∞", "name": "–°–∏—Ä ¬´–ú–æ—Ü–∞—Ä–µ–ª–ª–∞¬ª", "price": 111.5625, "original_price": 131.25, "is_hit": false, "description": "–ö–ª–∞—Å–∏—á–Ω–∏–π —ñ—Ç–∞–ª—ñ–π—Å—å–∫–∏–π –º‚Äô—è–∫–∏–π —Ä–æ–∑—Å—ñ–ª—å–Ω–∏–π —Å–∏—Ä. –°–º–∞–∫—É—î –≤ —Å–∞–ª–∞—Ç–∞—Ö, –∑–∞–∫—É—Å–∫–∞—Ö, –≤—ñ–¥–º—ñ–Ω–Ω–æ –ø–ª–∞–≤–∏—Ç—å—Å—è. –î—É–∂–µ –Ω—ñ–∂–Ω–∏–π —Ç–∞ –∫–æ—Ä–∏—Å–Ω–∏–π!", "weight": "–≤–∞–∫–∫—É–º, ~350 –≥", "images": ["data/mocarella.jpeg"] },
        { "id": "–§–µ—Ç–∞", "name": "–°–∏—Ä ¬´–§–µ—Ç–∞¬ª", "price": 55.8875, "original_price": 65.75, "is_hit": false, "description": "–§–µ—Ç–∞, –§–µ—Ç–∞–∫—ñ ‚Äî –ø–æ–ø—É–ª—è—Ä–Ω–∏–π –≥—Ä–µ—Ü—å–∫–∏–π —Å–∏—Ä. –°–ª–æ–≤–æ ¬´—Ñ–µ—Ç–∞¬ª —ñ—Ç–∞–ª—ñ–π—Å—å–∫–æ–≥–æ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —ñ –æ–∑–Ω–∞—á–∞—î ¬´—Å–∫–∏–±–∫–∞ ¬ª. –§–µ—Ç–∞ –Ω–∞–ª–µ–∂–∏—Ç—å –¥–æ –≥—Ä—É–ø–∏ –º'—è–∫–∏—Ö —Å–∏—Ä—ñ–≤, –π–æ–≥–æ –∂–∏—Ä–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—å 8%.", "weight": "–≤–∞–∫–∫—É–º, ~250 –≥", "images": ["data/feta.jpeg"] },
        { "id": "–ì–∞—É–¥–∞35", "name": "–°–∏—Ä —Ç–≤–µ—Ä–¥–∏–π ¬´–ì–∞—É–¥–∞¬ª 35%", "price": 158.1, "original_price": 186, "is_hit": false, "description": "–¢–≤–µ—Ä–¥–∏–π —Å–∏—Ä –∑ –º'—è–∫–∏–º –∫—Ä–µ–º–æ–≤–∏–º —Å–º–∞–∫–æ–º, –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–π –∑—ñ —Å–ø—Ä–∞–≤–∂–Ω—å–æ–≥–æ –∫–æ—Ä–æ–≤‚Äô—è—á–æ–≥–æ –º–æ–ª–æ–∫–∞ —Ç–∞ –∑–∞–∫–≤–∞—Å–∫–∏. –°–∏—Ä –º—ñ—Å—Ç–∏—Ç—å –≤—ñ—Ç–∞–º—ñ–Ω–∏ A, B, C, D,E, K, –Ω–∞—Å–∏—á—É—î –æ—Ä–≥–∞–Ω—ñ–∑–º —Å–µ–ª–µ–Ω–æ–º, –∑–∞–ª—ñ–∑–æ–º, —Ü–∏–Ω–∫–æ–º, –π–æ–¥–æ–º, –∫–∞–ª—å—Ü—ñ—î–º —Ç–∞ –∫–∞–ª—ñ—î–º. –û—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ –≤–∂–∏–≤–∞—Ç–∏ —Ü–µ–π —Å–∏—Ä –Ω–∞ —Å–Ω—ñ–¥–∞–Ω–æ–∫!", "weight": "–≤–∞–∫–∫—É–º, ~400 –≥", "images": ["data/gauda35.jpg"] },
        { "id": "–ß–µ–¥–¥–µ—Ä", "name": "–°–∏—Ä —Ç–≤–µ—Ä–¥–∏–π ¬´–ß–µ–¥–¥–µ—Ä¬ª", "price": 178.5, "original_price": 210, "is_hit": false, "description": "–¶–µ–π –ø–æ–ø—É–ª—è—Ä–Ω–∏–π –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Å–∏—Ä –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –æ–¥–Ω–æ—Ä—ñ–¥–Ω–æ—é —Ç–µ–∫—Å—Ç—É—Ä–æ—é, –º–∞—Å–ª—è–Ω–∏—Å—Ç–æ—ó, —â–æ –∫—Ä–∏—à–∏—Ç—å—Å—è —ñ –∑–ª–µ–≥–∫–∞ –º–∞–∂—É—â–µ–π—Å—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ü—ñ—î—é, –∞ —Ç–∞–∫–æ–∂ –±–∞–≥–∞—Ç–∏–º —Å–∏—Ä–Ω–∏–º —Å–º–∞–∫–æ–º. –î–ª—è –π–æ–≥–æ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–µ –∫–æ—Ä–æ–≤`—è—á–µ –º–æ–ª–æ–∫–æ. –ü–µ—Ä—ñ–æ–¥ –¥–æ–∑—Ä—ñ–≤–∞–Ω–Ω—è –∑–∞–∑–≤–∏—á–∞–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ñ–¥ 3 –º—ñ—Å—è—Ü—ñ–≤. –ß–µ–¥–¥–µ—Ä –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è –≥–∞—Ä–Ω—ñ—Ä—ñ–≤, —Å–∞–ª–∞—Ç—ñ–≤ —ñ –∑–∞–∫—É—Å–æ–∫.", "weight": "–≤–∞–∫–∫—É–º, ~400 –≥", "images": ["data/chedder.jpeg"] },
        { "id": "–ü–ª–∞–≤–ª–µ–Ω–∏–π", "name": "–°–∏—Ä –ø–ª–∞–≤–ª–µ–Ω–∏–π", "price": 53.55, "original_price": 63, "is_hit": false, "description": "–©–æ –º–æ–∂–µ –±—É—Ç–∏ –ø—Ä–∏—î–º–Ω—ñ—à–µ —ñ —Å–∏—Ç–Ω—ñ—à–µ –≤—Ä–∞–Ω—Ü—ñ, –Ω—ñ–∂ ¬†–ø–ª–∞–≤–ª–µ–Ω–∏–π —Å–∏—Ä? –í—ñ–Ω –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ –Ω–∞–Ω–æ—Å–∏—Ç—å—Å—è –Ω–∞ —Ö–ª—ñ–± —ñ –≤—ñ–¥–º—ñ–Ω–Ω–æ –≤—Ç–∞–º–æ–≤—É—î –≥–æ–ª–æ–¥. –í—ñ–Ω —Å–ø–æ–¥–æ–±–∞—î—Ç—å—Å—è –¥–æ—Ä–æ—Å–ª–∏–º —ñ –¥—ñ—Ç—è–º. –¶–µ –¥—É–∂–µ –Ω—ñ–∂–Ω–∏–π –≤–µ—Ä—à–∫–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç. –ü–ª–∞–≤–ª–µ–Ω–∏–π —Å–∏—Ä - –≤—ñ–¥–º—ñ–Ω–Ω–∏–π –ø–æ—á–∞—Ç–æ–∫ –¥–Ω—è –¥–ª—è –≤—Å—ñ—î—ó —Ä–æ–¥–∏–Ω–∏.", "weight": "–±–∞–Ω–∫, ~1 000 –≥", "images": ["data/plavleny.jpg"] },
        { "id": "–í–µ—Ä—à–∫–∏", "name": "–í–µ—Ä—à–∫–∏", "price": 119, "original_price": 140, "is_hit": false, "description": "–ú–∞—é—Ç—å –∂–∏—Ä–Ω—ñ—Å—Ç—å 25-30%. –í–æ–Ω–∏ –≤—ñ–¥–º—ñ–Ω–Ω–æ –ø–æ—î–¥–Ω—É—é—Ç—å—Å—è –∑ –∫–∞–≤–æ—é, –Ω–∞–¥–∞—é—á–∏ —ó–π –æ—Å–æ–±–ª–∏–≤–æ –Ω—ñ–∂–Ω–æ–≥–æ —ñ –º`—è–∫–æ–≥–æ —Å–º–∞–∫—É.–í–µ—Ä—à–∫–∏ –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è —Å–º–∞—á–Ω–∏—Ö –¥–µ—Å–µ—Ä—Ç—ñ–≤ —ñ –¥–æ–º–∞—à–Ω—å–æ–≥–æ –º–æ—Ä–æ–∑–∏–≤–∞.", "weight": "–ø–ª—è—à, 1 —à—Ç", "images": ["data/slivki.jpg"] },
        { "id": "–ê–¥–∏–≥–µ–π—Å—å–∫–∏–π", "name": "–°–∏—Ä –º'—è–∫–∏–π ¬´–ê–¥–∏–≥–µ–π—Å—å–∫–∏–π¬ª", "price": 161.2875, "original_price": 189.75, "is_hit": false, "description": "–°–∏—Ä –ê–¥–∏–≥–µ–π—Å—å–∫–∏–π ‚Äî –º'—è–∫–∏–π —Å–∏—Ä —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏–π –¥–ª—è –ø–µ—Ä–µ–¥–≥—ñ—Ä'—è —Ç–∞ –≥—ñ—Ä—Å—å–∫–∏—Ö —Ä–∞–π–æ–Ω—ñ–≤ –ö–∞–≤–∫–∞–∑—É. \n–ú–∏ –≤–∏–≥–æ—Ç–æ–≤–ª—è—î–º–æ –π–æ–≥–æ –∑ –≤—ñ–¥–±—ñ—Ä–Ω–æ–≥–æ —Ñ–µ—Ä–º–µ—Ä—Å—å–∫–æ–≥–æ –º–æ–ª–æ–∫–∞. –ú–∞—î –Ω—ñ–∂–Ω–∏–π –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–º–∞–∫.\n–ñ–∏—Ä–Ω—ñ—Å—Ç—å 40%.\n‚òùÔ∏è–ü—Ä–∏ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤—ñ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∫–æ—Ä–∏—Å–Ω–∏—Ö –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç–µ–π –º–æ–ª–æ–∫–∞ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ª–∞–≥—ñ–¥–Ω—É –ø–∞—Å—Ç–µ—Ä—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ñ 65~67¬∞C.\n‚ò∫Ô∏è–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è :\n‚úîÔ∏è–¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —É —Å–∞–ª–∞—Ç–∏\n‚úîÔ∏è–¥–ª—è –±—É—Ç–µ—Ä–±—Ä–æ–¥—ñ–≤\n‚úîÔ∏è —ñ –ø—Ä–æ—Å—Ç–æ –¥–æ —á–∞—é —á–∏ –∫–∞–≤–∏‚òï", "weight": "–≤–∞–∫–∫—É–º, ~550 –≥", "images": ["data/adygeyskiy.jpg"] },
        { "id": "–ë–ª–µ–∫", "name": "–°–∏—Ä —Ç–≤–µ—Ä–¥–∏–π ¬´Black edition¬ª", "price": 187.425, "original_price": 220.5, "is_hit": false, "description": "Black Edition, –∂–∏—Ä–Ω—ñ—Å—Ç—é 50%, —Ç–µ—Ä–º—ñ–Ω –¥–æ–∑—Ä—ñ–≤–∞–Ω–Ω—è 50 –¥–Ω—ñ–≤. –ú–∞—î –ª–µ–≥–∫–∏–π –∞—Ä–æ–º–∞—Ç —Ç—Ä–æ–ø—ñ—á–Ω–∏—Ö —Ñ—Ä—É–∫—Ç—ñ–≤, –∑–∞–≤–¥—è–∫–∏ –¥–æ–¥–∞–Ω–æ–º—É –∫–æ–∫–æ—Å–æ–≤–æ–º—É –≤—É–≥—ñ–ª–ª—é. –¢—Ä–µ–Ω–¥–æ–≤–∏–π —Å–∏—Ä –¥–ª—è –ø–æ–¥–∞—Ä—É–Ω–∫—É —á–∏ —Å–≤—è—Ç–∫–æ–≤–æ–≥–æ —Å—Ç–æ–ª—É.", "weight": "–≤–∞–∫–∫—É–º, ~350 –≥", "images": ["data/black.jpg"] },
        { "id": "–ë—Ä–∏–Ω–∑–∞", "name": "–ë—Ä–∏–Ω–∑–∞", "price": 143.4375, "original_price": 168.75, "is_hit": false, "description": "–ë—Ä–∏–Ω–∑–∞ - –º–æ–ª–æ–¥–∏–π —Ä–æ–∑—Å—ñ–ª—å–Ω–∏–π —Å–∏—Ä –∂–∏—Ä–Ω—ñ—Å—Ç—é 35%. –£ —Å–∫–ª–∞–¥—ñ —Ç—ñ–ª—å–∫–∏ –≤—ñ–¥–±—ñ—Ä–Ω–µ –º–æ–ª–æ–∫–æ, –∑–∞–∫–≤–∞—Å–∫–∞ —Ç–∞ —Å—ñ–ª—å. \n–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∫–æ—Ä–∏—Å–Ω–æ.\n–°–º–∞–∫—É—î –∑ –ª—ñ—Ç–Ω—ñ–º–∏ —Å–∞–ª–∞—Ç–∞–º–∏ —á–∏ –ø—Ä–æ—Å—Ç–æ —è–∫ –∫–æ—Ä–∏—Å–Ω–∏–π –ø–æ–∂–∏–≤–Ω–∏–π –ø–µ—Ä–µ–∫—É—Å.", "weight": "–≤–∞–∫–∫—É–º, ~450 –≥", "images": ["data/brynza.jpg"] },
        { "id": "–ì–∞—É–¥–∞–ü–∞–∂–∏—Ç–Ω–∏–∫–æ–º", "name": "¬´–ì–∞—É–¥–∞¬ª 50% –∑ –ø–∞–∂–∏—Ç–Ω–∏–∫–æ–º", "price": 168.3, "original_price": 198, "is_hit": false, "description": "–ü–∞–∂–∏—Ç–Ω–∏–∫ (–≤—ñ–Ω –∂–µ —à–∞–º–±–∞–ª–∞, —Ö–µ–ª—å–±–∞, —Ñ–µ–Ω—É–≥—Ä–µ–∫) - –æ–¥–Ω–æ—Ä—ñ—á–Ω–∞ —Ç—Ä–∞–≤–∞ —ñ–∑ —Å—ñ–º–µ–π—Å—Ç–≤–∞ –±–æ–±–æ–≤–∏—Ö. –ù–∞—Å—ñ–Ω–Ω—è, —è–∫–µ –º–∏ –¥–æ–¥–∞—î–º–æ –¥–æ –Ω–∞—à–æ–≥–æ —Å–∏—Ä—É –ì–∞—É–¥–∞, –º–∞—î —Å–æ–ª–æ–¥–∫—É–≤–∞—Ç–∏–π –≥–æ—Ä—ñ—Ö–æ–≤–∏–π –ø—Ä–∏—Å–º–∞–∫ —ñ –¥–æ–¥–∞—î —Å–∏—Ä—É –Ω–µ —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏—î–º–Ω–∏–π —Å–º–∞–∫, –∞ –π –¥–æ–¥–∞—Ç–∫–æ–≤—É –∫–æ—Ä–∏—Å—Ç—å.", "weight": "–≤–∞–∫–∫—É–º, ~400 –≥", "images": ["data/pagytnik.jpg"] },
        { "id": "–õ–∞–±–Ω–µ", "name": "–õ–∞–±–Ω–µ", "price": 114.75, "original_price": 135, "is_hit": false, "description": "–õ–∞–±–Ω–µ - –º–æ–ª–æ–¥–∏–π —Ä–æ–∑—Å—ñ–ª—å–Ω–∏–π —Å–∏—Ä, –∑ —Ç—Ä–∞–≤–∞–º–∏ —Ç–∞ —á–∞—Å–Ω–∏–∫–æ–º —É –æ–ª–∏–≤–∫–æ–≤—ñ–π –æ–ª—ñ—ó. –í–∏–≥–æ—Ç–æ–≤–ª—è—î—Ç—å—Å—è –∑ –π–æ–≥—É—Ä—Ç—É. –ú–∞—î –Ω—ñ–∂–Ω–∏–π, –≤–µ—Ä—à–∫–æ–≤–∏–π —Å–º–∞–∫ —Ç–∞ –ª–µ–≥–∫–∏–π –∞—Ä–æ–º–∞—Ç —á–∞—Å–Ω–∏–∫—É. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —É —Å–∞–ª–∞—Ç–∏ —Ç–∞ —è–∫ –Ω–∞–º–∞–∑–∫–∞ –Ω–∞ —Ç–æ—Å—Ç–∏. –ñ–∏—Ä–Ω—ñ—Å—Ç—å 40%.", "weight": "–±–∞–Ω–∫, 1 —à—Ç", "images": ["data/labne.jpg"] },
        { "id": "–ú–∞—Å–ª–æ–®–æ–∫–æ–ª–∞–¥–Ω–µ", "name": "–ú–∞—Å–ª–æ —à–æ–∫–æ–ª–∞–¥–Ω–µ", "price": 182.9625, "original_price": 215.25, "is_hit": false, "description": "–®–æ–∫–æ–ª–∞–¥–Ω–µ –º–∞—Å–ª–æ TM Family cheese –∑–∞–Ω—É—Ä–∏—Ç—å –≤–∞—Å —É –¥–∏—Ç–∏–Ω—Å—Ç–≤–æ. –ù–µ–π–º–æ–≤—ñ—Ä–Ω–æ —Å–º–∞—á–Ω–µ, –∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏—Ö –≤–µ—Ä—à–∫—ñ–≤ –∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è–º –≤–∏—Å–æ–∫–æ—è–∫—ñ—Å–Ω–æ–≥–æ –∫–∞–∫–∞–æ-–ø–æ—Ä–æ—à–∫—É. –Ü–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –±—É—Ç–µ—Ä–±—Ä–æ–¥—ñ–≤, –∫—Ä–µ–º—ñ–≤ —á–∏ –¥–µ—Å–µ—Ä—Ç—ñ–≤.", "weight": "–ø–∞–∫, ~350 –≥", "images": ["data/masloshokolad.jpg"] },
        { "id": "–ü–µ—Å—Ç–æ–ó–µ–ª–µ–Ω–µ–ß–µ—Ä–≤–æ–Ω–µ", "name": "–°–∏—Ä —Ç–≤–µ—Ä–¥–∏–π ¬´–ü–µ—Å—Ç–æ¬ª", "price": 187.18, "original_price": 220.5, "is_hit": false, "description": "–ü–µ—Å—Ç–æ –∑ —ñ—Ç–∞–ª—ñ–π—Å—å–∫–∏–º–∏ —Ç—Ä–∞–≤–∞–º–∏. –ñ–∏—Ä–Ω—ñ—Å—Ç—å 50%. –í–∏—Ç—Ä–∏–º–∫–∞ 50 –¥–Ω—ñ–≤. –°–º–∞–∫ –≤–∏—Ç–æ–Ω—á–µ–Ω–∏–π —Ç–∞ –∑–ª–µ–≥–∫–∞ –æ—Å–≤—ñ–∂–∞—é—á–∏–π, –∑–∞–≤–¥—è–∫–∏ –¥–æ–¥–∞–Ω–æ–º—É —Å—É—à–µ–Ω–æ–º—É –±–∞–∑–∏–ª—ñ–∫—É.", "weight": "–≤–∞–∫–∫—É–º, ~350 –≥", "images": ["data/pesto.jpg"] },
        { "id": "–•–∞–ª—É–º—ñ", "name": "–•–∞–ª—É–º—ñ", "price": 95.625, "original_price": 112.5, "is_hit": false, "description": "–•–∞–ª—É–º—ñ - —Å–∏—Ä –¥–ª—è —Å–º–∞–∂–µ–Ω–Ω—è —á–∏ –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ –≥—Ä–∏–ª—ñ. –ú–∞—î –≤–∏—Å–æ–∫—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–ª–∞–≤–ª–µ–Ω–Ω—è, –∑–∞–≤–¥—è–∫–∏ —á–æ–º—É –º–æ–∂–µ –±—É—Ç–∏ –æ–±—Å–º–∞–∂–µ–Ω–∏–π –¥–æ –∑–æ–ª–æ—Ç–∞–≤–æ—ó —Å–∫–æ—Ä–∏–Ω–∫–∏, –∑–∞–ª–∏—à–∞—é—á–∏—Å—å –Ω—ñ–∂–Ω–∏–º –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ. –ì–∞—Ä–Ω–æ –ø–æ—î–¥–Ω—É—î—Ç—å—Å—è –∑ –æ–≤–æ—á–∞–º–∏, –≤—ñ–¥–º—ñ–Ω–Ω–æ —Å–º–∞–∫—É—î –≤ —Å–∞–ª–∞—Ç–∞—Ö –∞–±–æ —è–∫ –æ–∫—Ä–µ–º–∞ —Å—Ç—Ä–∞–≤–∞-–≥—Ä–∏–ª—å.", "weight": "–≤–∞–∫–∫—É–º, ~300 –≥", "images": ["data/halumi.jpg"] }
    ];

    const AppState = {
        products: [],
        cart: {},
        isFormVisible: false,
        tg: null,
    };

    const elements = {
        loading: document.getElementById('loading'),
        productList: document.getElementById('product-list'),
        searchInput: document.getElementById('search-input'),
        cartBadge: document.getElementById('cart-badge'),
        cartCount: document.getElementById('cart-count'),
        promoSection: document.getElementById('promo-section'),
        promoCloseBtn: document.getElementById('promo-close'),
        orderForm: document.getElementById('order-form'),
        orderFormCloseBtn: document.getElementById('order-form-close-btn'),
        changeOrderBtn: document.querySelector('.change-order-btn'),
        deliveryOptions: document.querySelectorAll('input[name="delivery"]'),
        addressContainer: document.getElementById('address-field-container'),
        orderSummary: document.getElementById('order-summary'),
        userNameInput: document.getElementById("user-name"),
        userPhoneInput: document.getElementById("user-phone"),
        addressInput: document.getElementById("address-input"),
        formError: document.getElementById("form-error"),
        modal: document.getElementById('description-modal'),
        modalTitle: document.getElementById('modal-title'),
        modalBody: document.getElementById('modal-body'),
        modalCloseBtn: document.getElementById('modal-close-btn'),
    };

    function createProductElement(product) {
        const card = document.createElement("div");
        card.className = "product-card";
        card.dataset.id = product.id;
        const priceHTML = product.original_price
            ? `<span class="current-price">${product.price.toFixed(2)} –≥—Ä–Ω</span><span class="original-price">${product.original_price.toFixed(2)} –≥—Ä–Ω</span>`
            : `<span class="current-price">${product.price.toFixed(2)} –≥—Ä–Ω</span>`;
        card.innerHTML = `
            <div class="gallery"><img src="${product.images[0]}" alt="${product.name}" class="gallery-image" onerror="this.onerror=null;this.src='https://placehold.co/400x300/F0E6D6/8B4513?text=Family+Cheese';"></div>
            <div class="product-info">
                <h3 class="title">${product.name}</h3>
                <div class="weight"><i class="fas fa-balance-scale"></i> ${product.weight}</div>
                <div class="price-container">${priceHTML}</div>
                <div class="card-footer">
                    <button class="add-to-cart-btn" title="–î–æ–¥–∞—Ç–∏ –≤ –∫–æ—à–∏–∫"><i class="fas fa-plus"></i></button>
                    <div class="quantity-control">
                        <button class="quantity-btn" data-action="decrease"><i class="fas fa-minus"></i></button>
                        <span class="quantity">1</span>
                        <button class="quantity-btn" data-action="increase"><i class="fas fa-plus"></i></button>
                    </div>
                    <button class="details-btn" data-title="${product.name}" data-description="${product.description.replace(/"/g, '&quot;')}">
                        <i class="fas fa-info-circle"></i> –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ
                    </button>
                </div>
            </div>`;
        return card;
    }

    // --- Cart Logic ---
    function updateCart(productId, action) {
        const product = AppState.products.find(p => p.id == productId);
        if (!product) return;
        if (action === 'add' && !AppState.cart[productId]) {
            AppState.cart[productId] = { name: product.name, price: product.price, quantity: 1 };
        } else if (action === 'increase' && AppState.cart[productId]) {
            AppState.cart[productId].quantity++;
        } else if (action === 'decrease' && AppState.cart[productId]) {
            AppState.cart[productId].quantity--;
            if (AppState.cart[productId].quantity <= 0) {
                delete AppState.cart[productId];
            }
        }
        // –í–ò–î–ê–õ–ï–ù–û updateUI() –©–û–ë –£–ù–ò–ö–ù–£–¢–ò –ü–û–í–ù–û–ì–û –ü–ï–†–ï–ú–ê–õ–¨–û–í–£–í–ê–ù–ù–Ø
    }

    // --- Order Form Logic ---
    function openOrderForm() {
        AppState.isFormVisible = true;
        renderOrderSummary();
        elements.orderForm.classList.add("visible");
        AppState.tg?.BackButton.show();
        updateMainButton();
    }

    function closeOrderForm() {
        AppState.isFormVisible = false;
        elements.orderForm.classList.remove("visible");
        AppState.tg?.BackButton.hide();
        updateMainButton();
    }

    function renderOrderSummary() {
        let itemsHTML = "", productsTotal = 0, totalDiscount = 0;
        for (const id in AppState.cart) {
            const product = AppState.products.find(p => p.id == id);
            const item = AppState.cart[id];
            if (!product) continue;
            const itemTotalPrice = item.price * item.quantity;
            productsTotal += itemTotalPrice;
            if (product.original_price) totalDiscount += (product.original_price - item.price) * item.quantity;
            itemsHTML += `<div class="summary-item"><img src="${product.images[0]}" alt="${item.name}" class="summary-item-img" onerror="this.onerror=null;this.src='https://placehold.co/64x64/F0E6D6/8B4513?text=üßÄ';"><div class="summary-item-details"><div class="summary-item-name">${item.name}</div><div class="summary-item-quantity">${item.quantity} x ${item.price.toFixed(2)} –≥—Ä–Ω</div></div><div class="summary-item-price">${itemTotalPrice.toFixed(2)} –≥—Ä–Ω</div></div>`;
        }
        const selectedDelivery = document.querySelector('input[name="delivery"]:checked');
        const deliveryCost = parseInt(selectedDelivery?.value || "0", 10);
        const finalTotal = productsTotal + deliveryCost;
        const totalsHTML = `<div class="summary-totals">${totalDiscount > 0 ? `<div class="total-discount"><span><i class="fas fa-tags"></i> –í–∞—à–∞ –∑–Ω–∏–∂–∫–∞:</span><span>-${totalDiscount.toFixed(2)} –≥—Ä–Ω</span></div>` : ""}${deliveryCost > 0 ? `<div><span><i class="fas fa-truck"></i> –î–æ—Å—Ç–∞–≤–∫–∞:</span><span>${deliveryCost.toFixed(2)} –≥—Ä–Ω</span></div>` : ""}<div class="total-price"><span><i class="fas fa-receipt"></i> –í—Å—å–æ–≥–æ:</span><span>${finalTotal.toFixed(2)} –≥—Ä–Ω</span></div></div>`;
        elements.orderSummary.innerHTML = itemsHTML + totalsHTML;
    }

    // --- Services ---
    function initializeTelegramWebApp() {
        try {
            AppState.tg = window.Telegram?.WebApp;
            if (AppState.tg) {
                AppState.tg.ready();
                AppState.tg.expand();
            }
        } catch (e) { console.warn(`Error initializing Telegram WebApp: ${e.message}`); }
    }

    async function loadProducts() {
        elements.loading.style.display = 'flex';
        try {
            // –¢—É—Ç –º–æ–∂–µ –±—É—Ç–∏ fetch, –∞–ª–µ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –≤–±—É–¥–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ
            AppState.products = MOCK_PRODUCTS_DATA;
        } catch (error) {
            console.error('Failed to load products:', error);
        } finally {
            elements.loading.style.display = 'none';
        }
    }
    
    function submitOrder() {
        // –¢—É—Ç –±—É–¥–µ –ª–æ–≥—ñ–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
        AppState.tg?.showAlert('–í–∞—à–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç–æ! –û—á—ñ–∫—É–π—Ç–µ –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ telegram.');
        AppState.tg?.close();
    }

    // --- UI Management ---
    function renderProducts() {
        const query = elements.searchInput.value.toLowerCase();
        const filteredProducts = AppState.products.filter(p =>
            p.name.toLowerCase().includes(query) || p.description.toLowerCase().includes(query)
        );
        elements.productList.innerHTML = "";
        if (filteredProducts.length === 0) {
            elements.productList.innerHTML = `<div style="text-align: center; padding: 2rem;"><h3>–¢–æ–≤–∞—Ä–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</h3></div>`;
            return;
        }
        filteredProducts.forEach(product => {
            elements.productList.appendChild(createProductElement(product));
        });
    }

    function updateMainButton() {
        const totalItems = Object.values(AppState.cart).reduce((sum, item) => sum + item.quantity, 0);
        if (totalItems > 0) {
            const buttonText = AppState.isFormVisible ? '–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è' : `–ö–æ—à–∏–∫ (${totalItems})`;
            AppState.tg?.MainButton.setText(buttonText);
            AppState.tg?.MainButton.setParams({ color: '#D4935A', text_color: '#FFFFFF' });
            AppState.tg?.MainButton.show();
        } else {
            AppState.tg?.MainButton.hide();
            if (AppState.isFormVisible) closeOrderForm();
        }
    }
    
    // üî• –ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø: –û–Ω–æ–≤–ª—é—î –ª–∏—à–µ –æ–¥–Ω—É –∫–∞—Ä—Ç–∫—É —Ç–æ–≤–∞—Ä—É
    function updateSingleCardUI(cardElement) {
        const id = cardElement.dataset.id;
        const addBtn = cardElement.querySelector('.add-to-cart-btn');
        const quantityControl = cardElement.querySelector('.quantity-control');
        
        if (AppState.cart[id]) {
            addBtn.style.display = 'none';
            quantityControl.style.display = 'flex';
            quantityControl.querySelector('.quantity').textContent = AppState.cart[id].quantity;
        } else {
            addBtn.style.display = 'flex';
            quantityControl.style.display = 'none';
        }
    }

    function updateUI() {
        renderProducts();
        // –ü—ñ—Å–ª—è –ø–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ—Å–ª—è –ø–æ—à—É–∫—É) –æ–Ω–æ–≤–ª—é—î–º–æ —Å—Ç–∞–Ω –∫–Ω–æ–ø–æ–∫ –Ω–∞ –≤—Å—ñ—Ö –∫–∞—Ä—Ç–∫–∞—Ö
        document.querySelectorAll('.product-card').forEach(card => updateSingleCardUI(card));
        
        const totalItems = Object.values(AppState.cart).reduce((sum, item) => sum + item.quantity, 0);
        elements.cartCount.textContent = totalItems;
        elements.cartCount.classList.toggle('hidden', totalItems === 0);
        
        updateMainButton();
    }

    function showProductDetailsModal(title, description) {
        elements.modalTitle.textContent = title;
        elements.modalBody.innerHTML = description.replace(/\n/g, '<br><br>');
        elements.modal.classList.add('visible');
        AppState.tg?.BackButton.show();
    }

    function closeProductDetailsModal() {
        elements.modal.classList.remove('visible');
        if (!AppState.isFormVisible) AppState.tg?.BackButton.hide();
    }

    // --- Event Handlers ---
    // üî• –û–ù–û–í–õ–ï–ù–ò–ô –û–ë–†–û–ë–ù–ò–ö: –í–∏—Ä—ñ—à—É—î –≤—Å—ñ –ø—Ä–æ–±–ª–µ–º–∏
    function handleProductClick(e) {
        const card = e.target.closest('.product-card');
        if (!card) return;

        const productId = card.dataset.id;
        let cartActionOccurred = false;

        if (e.target.closest('.add-to-cart-btn')) {
            updateCart(productId, 'add');
            cartActionOccurred = true;
        } else if (e.target.closest('.quantity-btn')) {
            const action = e.target.closest('.quantity-btn').dataset.action;
            updateCart(productId, action);
            cartActionOccurred = true;
        } else if (e.target.closest('.details-btn')) {
            const detailsBtn = e.target.closest('.details-btn');
            showProductDetailsModal(detailsBtn.dataset.title, detailsBtn.dataset.description);
        }

        if (cartActionOccurred) {
            updateSingleCardUI(card); // –û–Ω–æ–≤–ª—é—î–º–æ –ª–∏—à–µ –æ–¥–Ω—É –∫–∞—Ä—Ç–∫—É
            // –û–Ω–æ–≤–ª—é—î–º–æ –∑–∞–≥–∞–ª—å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
            const totalItems = Object.values(AppState.cart).reduce((sum, item) => sum + item.quantity, 0);
            elements.cartCount.textContent = totalItems;
            elements.cartCount.classList.toggle('hidden', totalItems === 0);
            updateMainButton();
        }
    }
    
    function closePromo() {
        elements.promoSection.style.transition = 'opacity 0.4s, transform 0.4s';
        elements.promoSection.style.opacity = '0';
        elements.promoSection.style.transform = 'scale(0.95)';
        setTimeout(() => elements.promoSection.style.display = "none", 400);
    }
    
    function initEventListeners() {
        elements.cartBadge.addEventListener('click', () => {
            if (Object.keys(AppState.cart).length > 0) openOrderForm();
        });
        elements.changeOrderBtn?.addEventListener('click', closeOrderForm);
        elements.orderFormCloseBtn?.addEventListener('click', closeOrderForm);
        elements.searchInput.addEventListener('input', updateUI);
        elements.productList.addEventListener('click', handleProductClick);
        elements.deliveryOptions.forEach(option => option.addEventListener('change', renderOrderSummary));
        elements.modalCloseBtn.addEventListener('click', closeProductDetailsModal);
        elements.modal.addEventListener('click', e => { if (e.target === elements.modal) closeProductDetailsModal(); });
        elements.promoCloseBtn.addEventListener('click', closePromo);

        if (AppState.tg) {
            AppState.tg.onEvent('backButtonClicked', () => {
                if (elements.modal.classList.contains('visible')) closeProductDetailsModal();
                else if (AppState.isFormVisible) closeOrderForm();
            });
            AppState.tg.onEvent('mainButtonClicked', () => {
                if (!AppState.isFormVisible) openOrderForm();
                else submitOrder();
            });
        }
    }

    function initApp() {
        initializeTelegramWebApp();
        initEventListeners();
        loadProducts().then(updateUI);
    }

    document.addEventListener('DOMContentLoaded', initApp);
</script>

</body>
</html>